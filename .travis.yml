language: python
python: "3.6"

matrix:
  include:
    - name: "Code format"
      before_install: pip install black
      install: skip
      script: black --check .
    - name: "Type checks"
      before install: pip install mypy numpy git+https://github.com/numpy/numpy-stubs torch torchvision
      install: pip install .
      script: mypy --config-file=mypy.ini pystiche/
    - name: "Tests"
      before_install: pip install pytest
      install: pip install .[dev]
      script: pytest test
